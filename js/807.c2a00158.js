"use strict";(self["webpackChunkqwikgeo_website"]=self["webpackChunkqwikgeo_website"]||[]).push([[807],{4507:function(t,e,a){a.r(e),a.d(e,{default:function(){return ra}});var s=a(266),i=a(9256),r=a(4324),n=a(5808),l=a(4525),p=a(5187),o=a(9708),u=a(6733),c=a(1713),d=function(){var t=this,e=t._self._c;return e(i.Z,{staticClass:"d-flex my-0 py-0 px-0 h-100",attrs:{fluid:""}},[e(u.Z,{attrs:{fluid:"","expand-on-hover":"",permanent:""}},[e(c.Z,{staticClass:"fill-height",attrs:{"no-gutters":"",fluid:""}},[e(u.Z,{attrs:{dark:"","expand-on-hover":"",permanent:"","mini-variant":"","mini-variant-width":"156"}},[e(n.Z,{attrs:{dense:"",nav:""}},t._l(t.left_nav_items,(function(a){return e(l.Z,{key:a.title,attrs:{link:""},on:{click:function(e){return t.iconClick(a,"left")}}},[e(p.Z,[e(r.Z,[t._v(t._s(a.icon))])],1),e(o.km,[e(o.V9,[t._v(t._s(a.title))])],1)],1)})),1)],1)],1)],1),e("map-builder-left-panel",{staticStyle:{"max-width":"25%"},attrs:{appData:t.appData}}),e(s.Z,{staticClass:"map-panel",attrs:{"align-self":"auto"}},[e("BaseMap",{attrs:{appData:t.appData},on:{"update:appData":function(e){t.appData=e},"update:app-data":function(e){t.appData=e}}})],1),e("map-builder-right-panel",{staticStyle:{"max-width":"25%"},attrs:{appData:t.appData}}),null!=t.appData.activeLayerId?e(u.Z,{attrs:{fluid:"","expand-on-hover":"",permanent:"",right:""}},[e(c.Z,{staticClass:"fill-height",attrs:{"no-gutters":"",fluid:""}},[e(u.Z,{attrs:{dark:"","expand-on-hover":"",permanent:"","mini-variant":"","mini-variant-width":"156"}},[e(n.Z,{attrs:{dense:"",nav:""}},t._l(t.right_nav_items,(function(a){return e(l.Z,{key:a.title,attrs:{link:""},on:{click:function(e){return t.iconClick(a,"right")}}},[e(p.Z,[e(r.Z,[t._v(t._s(a.icon))])],1),e(o.km,[e(o.V9,[t._v(t._s(a.title))])],1)],1)})),1)],1)],1)],1):t._e()],1)},h=[],m=(a(7658),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"mapboxgl-map"}},[e("AlertPanel",{attrs:{appData:t.appData}})],1)}),g=[],y=a(6158),_=a.n(y),f=a(1653),v=function(){var t=this,e=t._self._c;return t.appData.alert?e(f.Z,{staticClass:"app-alert mx-auto",attrs:{color:t.appData.alertColor,dark:"",dismissible:""}},[t._v(" "+t._s(t.appData.alert)+" ")]):t._e()},D=[],b={name:"AlertPanel",props:{appData:{type:Object,required:!0}},watch:{"appData.alert"(){void 0!=this.appData.alert&&setTimeout((()=>{this.$set(this.appData,"alert",void 0)}),5e3)}}},P=b,L=a(1001),Z=(0,L.Z)(P,v,D,!1,null,"fffde3c0",null),B=Z.exports,$={components:{AlertPanel:B},name:"BaseMap",props:{appData:Object},mounted(){const t=this;_().accessToken=this.mapboxToken;let e=new(_().Map)({container:"mapboxgl-map",style:`mapbox://styles/mapbox/${this.appData.basemap}-v10`,preserveDrawingBuffer:!0,center:[this.appData.longitude,this.appData.latitude],zoom:this.appData.zoom,transformRequest:(t,e)=>{if("Tile"===e&&t.includes("api/v1/collections"))return{url:t,headers:{Authorization:`Bearer ${localStorage.getItem("qwikgeo_access_token")}`}}}});this.$set(this.appData,"map",e),this.appData.map.on("load",(function(){t.appData.map.addControl(new(_().NavigationControl),"top-left"),t.appData.map.addControl(new(_().GeolocateControl),"top-left"),t.appData.map.addControl(new(_().ScaleControl),"bottom-left"),t.appData.map.addControl(new(_().FullscreenControl),"top-left")}))}},w=$,x=(0,L.Z)(w,m,g,!1,null,null,null),M=x.exports,k=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.appData.openLeftPanel,expression:"appData.openLeftPanel"}],staticClass:"map-builder-left-panel pa-3"},["basemaps"===this.appData.openLeftIcon?e("map-builder-basemap-panel",{attrs:{appData:t.appData}}):t._e(),"analysis"===this.appData.openLeftIcon?e("map-builder-analysis-panel",{attrs:{appData:t.appData}}):t._e(),"draw"===this.appData.openLeftIcon?e("map-builder-draw-panel",{attrs:{appData:t.appData}}):t._e(),"help"===this.appData.openLeftIcon?e("map-builder-help-panel",{attrs:{appData:t.appData}}):t._e(),"layers"===this.appData.openLeftIcon?e("map-builder-layers-panel",{attrs:{appData:t.appData}}):t._e(),"layer_search"===this.appData.openLeftIcon?e("map-builder-layer-search-panel",{attrs:{appData:t.appData}}):t._e(),"legend"===this.appData.openLeftIcon?e("map-builder-legend-panel",{attrs:{appData:t.appData}}):t._e(),"existing_maps"===this.appData.openLeftIcon?e("map-builder-map-search-panel",{attrs:{appData:t.appData}}):t._e(),"query_data"===this.appData.openLeftIcon?e("map-builder-query-data-panel",{attrs:{appData:t.appData}}):t._e(),"settings"===this.appData.openLeftIcon?e("map-builder-settings-panel",{attrs:{appData:t.appData}}):t._e()],1)},S=[],C=function(){var t=this,e=t._self._c;return e("p",[t._v("Analysis")])},I=[],R={name:"MapBuilderAnalysisPanel",props:{appData:{type:Object,required:!0}}},q=R,T=(0,L.Z)(q,C,I,!1,null,null,null),O=T.exports,F=a(9223),j=function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("Basemap's")]),e(F.Z),e(n.Z,{attrs:{"three-line":""}},[t._l(t.basemaps,(function(a){return[e(l.Z,{key:a.name,attrs:{link:""},on:{click:function(e){return t.globalFunctions.changeBasemap(a,t.appData)}}},[e(o.km,[e(o.V9,{domProps:{innerHTML:t._s(a.name)}})],1)],1)]}))],2)],1)},A=[],E={name:"MapBuilderBasemapPanel",props:{appData:{type:Object,required:!0}}},V=E,H=(0,L.Z)(V,j,A,!1,null,null,null),N=H.exports,z=function(){var t=this,e=t._self._c;return e("p",[t._v("Draw")])},J=[],U={name:"MapBuilderDrawPanel",props:{appData:{type:Object,required:!0}}},Q=U,W=(0,L.Z)(Q,z,J,!1,null,null,null),G=W.exports,K=function(){var t=this,e=t._self._c;return e("p",[t._v("Help")])},X=[],Y={name:"MapBuilderHelpPanel",props:{appData:{type:Object,required:!0}}},tt=Y,et=(0,L.Z)(tt,K,X,!1,null,null,null),at=et.exports,st=a(4562),it=a(5125),rt=a(343),nt=a(7808),lt=function(){var t=this,e=t._self._c;return e("div",[e(it.Z,{on:{submit:function(e){return e.preventDefault(),t.searchForLayers()}}},[e(rt.Z,{attrs:{label:"Layer Type",outlined:"",items:t.layerTypes,"item-text":"text","item-value":"value"},on:{change:function(e){return t.searchForLayers()}},model:{value:t.layerType,callback:function(e){t.layerType=e},expression:"layerType"}}),e(nt.Z,{attrs:{outlined:"",label:"Search for layers"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),e(st.Z,{attrs:{color:"success",loading:t.loading,disabled:t.loading,text:"",type:"submit"}},[t._v(" Search ")])],1),t.searchResults.length>0?e("div",{staticStyle:{height:"70vh",overflow:"scroll"}},[e(F.Z),t._l(t.searchResults,(function(a,s){return e("div",{key:s},[e("map-builder-layer-search-card",{attrs:{layer:a,appData:t.appData}})],1)}))],2):t._e()],1)},pt=[],ot=a(9582),ut=a(5352);const ct=(0,ut.Ji)("v-card__actions"),dt=(0,ut.Ji)("v-card__subtitle"),ht=(0,ut.Ji)("v-card__text"),mt=(0,ut.Ji)("v-card__title");ot.Z;var gt=function(){var t=this,e=t._self._c;return e(ot.Z,{staticClass:"my-2"},[e(mt,[t._v(t._s(t.layer.title))]),e(ht,[e("div",{domProps:{innerHTML:t._s(t.layer.description)}})]),e(ct,[t.loaded?e(st.Z,{attrs:{color:"success",text:"",disabled:t.loading,loading:t.loading},on:{click:function(e){return t.addToMap()}}},[t._v(" Add ")]):t._e()],1)],1)},yt=[],_t={name:"MapBuilderLayersSearchCard",props:{layer:{type:Object,required:!0},appData:{type:Object,required:!0}},data:()=>({image:"",loaded:!1,loading:!1}),mounted(){"esri"===this.layer.map_type?this.image=this.layer.image:"user_data"===this.layer.map_type&&this.globalFunctions.httpRequest("get",`${this.apiUrl}/api/v1/collections/user_data.${this.layer.table[0].table_id}`,void 0,!0).then((t=>{this.loaded=!0,this.$set(this.layer,"geometry",t.data.geometry),this.$set(this.layer,"id",t.data.id),this.$set(this.layer,"bounds",t.data.extent.spatial.bbox)}))},methods:{addToMap(){this.loading=!0,"user_data"!==this.layer.map_type&&"map_layer"!==this.layer.map_type||this.globalFunctions.getDefaultPaint(this.layer),this.globalFunctions.addLayerToMap(this.layer,this.appData,this.appData.map).then((()=>{this.loading=!1}))}}},ft=_t,vt=(0,L.Z)(ft,gt,yt,!1,null,null,null),Dt=vt.exports,bt={components:{MapBuilderLayerSearchCard:Dt},name:"MapBuilderLayerSearchPanel",props:{appData:{type:Object,required:!0}},data:()=>({loading:!1,searchTerm:"",limit:10,offset:0,searchResults:[],layerType:"qwikgeo",layerTypes:[{text:"Qwikgeo",value:"qwikgeo"},{text:"ArcGIS Online",value:"esri"}]}),mounted(){this.searchForLayers()},methods:{toggleSearchForLayers(){this.$set(this.appData,"searchForLayers",!this.appData.searchForLayers)},searchForLayers(){if(this.loading=!0,this.searchResults=[],"qwikgeo"===this.layerType)this.globalFunctions.httpRequest("get",`${this.apiUrl}/api/v1/items/?q=${this.searchTerm}&limit=${this.limit}&offset=${this.offset}&item_type=table`,void 0,!0).then((t=>{this.loading=!1,200!=t.status&&(this.appData.alert=JSON.stringify(t.data)),t.data.forEach((t=>{t.map_type="user_data"})),this.searchResults=t.data,this.loading=!1}));else if("esri"===this.layerType){let t=`https://www.arcgis.com/sharing/rest/search?num=50&start=1&sortOrder=desc&q=(${this.searchTerm}) (type:("Feature Service" OR "Hosted" OR "Tiled" OR "Map Service" OR "Image Service"))&enriched=true&f=json`;this.globalFunctions.httpRequest("get",t,void 0,!1).then((t=>{200!=t.status&&(this.appData.alert=JSON.stringify(t.data)),t.data.results.forEach((t=>{t.map_type="esri",t.image=`https://www.arcgis.com/sharing/rest/content/items/${t.id}/info/${t.thumbnail}`,t.description=t.snippet})),this.searchResults=t.data.results,this.loading=!1}))}}}},Pt=bt,Lt=(0,L.Z)(Pt,lt,pt,!1,null,null,null),Zt=Lt.exports,Bt=a(1831),$t=function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("Layers")]),e(F.Z),0===t.appData.layers.length?e("div",[e("p",[t._v("No Layers")])]):e("div",[e(n.Z,[t._l(t.appData.layers,(function(a){return[e(ot.Z,{key:a.title},[e(l.Z,{staticClass:"grow"},[e(st.Z,{staticClass:"pl-0",attrs:{icon:""}},[1==a.visible?e(r.Z,{on:{click:function(e){return t.globalFunctions.toggleLayerVisibility(a,t.appData)}}},[t._v(" mdi-eye ")]):e(r.Z,{on:{click:function(e){return t.globalFunctions.toggleLayerVisibility(a,t.appData)}}},[t._v(" mdi-eye-off ")])],1),e(o.km,[e(o.V9,[t._v(t._s(a.title))])],1),e(Bt.Z,{scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(st.Z,t._g(t._b({staticClass:"pl-0",attrs:{icon:""}},"v-btn",s,!1),a),[e(r.Z,[t._v(" mdi-dots-vertical ")])],1)]}}],null,!0)},[e(n.Z,[e(l.Z,{attrs:{link:""},on:{click:function(e){return t.globalFunctions.removeLayer(a,t.appData)}}},[e(o.V9,[t._v("Remove Layer")])],1)],1)],1)],1)],1)]}))],2)],1),e(st.Z,{attrs:{color:"success",text:""},on:{click:function(e){return t.toggleSearchForLayers()}}},[t._v(" Add Layer ")])],1)},wt=[],xt={name:"MapBuilderLayersSearchPanel",props:{appData:{type:Object,required:!0}},data:()=>({}),methods:{toggleSearchForLayers(){this.$set(this.appData,"openLeftIcon","layer_search")}}},Mt=xt,kt=(0,L.Z)(Mt,$t,wt,!1,null,null,null),St=kt.exports,Ct=function(){var t=this,e=t._self._c;return e("p",[t._v("Legend")])},It=[],Rt={name:"MapBuilderLegendPanel",props:{appData:{type:Object,required:!0}}},qt=Rt,Tt=(0,L.Z)(qt,Ct,It,!1,null,null,null),Ot=Tt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-0 m-0"},[e("p",[t._v("Map Search")]),e(F.Z),e(it.Z,{on:{submit:function(e){return e.preventDefault(),t.searchForMaps()}}},[e(rt.Z,{attrs:{label:"Map Type",outlined:"",items:t.mapTypes,"item-text":"text","item-value":"value"},on:{change:function(e){return t.searchForMaps()}},model:{value:t.mapType,callback:function(e){t.mapType=e},expression:"mapType"}}),e(nt.Z,{attrs:{outlined:"",label:"Map Name"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),e(st.Z,{attrs:{color:"success",loading:t.loading,disabled:t.loading,text:"",type:"submit"}},[t._v(" Search ")])],1),t.searchResults.length>0?e("div",[e(F.Z),t._l(t.searchResults,(function(a,s){return e("div",{key:s},[e("map-builder-map-search-card",{attrs:{map:a,appData:t.appData}})],1)}))],2):t._e()],1)},jt=[],At=a(5495),Et=a(3305),Vt=function(){var t=this,e=t._self._c;return e(ot.Z,{staticClass:"my-2"},[e(At.Z,{attrs:{src:t.image,"lazy-src":"https://picsum.photos/id/11/100/60",height:"150"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e(c.Z,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[e(Et.Z,{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])}),e(mt,[t._v(t._s(t.map.title))]),e(ht,[e("div",{domProps:{innerHTML:t._s(t.map.description)}})]),e(ct,[e(st.Z,{attrs:{color:"success",text:"",disabled:t.loading,loading:t.loading},on:{click:function(e){return t.addToMap()}}},[t._v(" Add ")])],1)],1)},Ht=[],Nt={name:"MapBuilderLayersSearchCard",props:{map:{type:Object,required:!0},appData:{type:Object,required:!0}},data:()=>({image:"",loading:!1}),mounted(){this.globalFunctions.httpRequest("get",`${this.apiUrl}/api/v1/maps/map_image/?map_id=${this.map.map_id}`,void 0,!0).then((t=>{this.image=t.data}))}},zt=Nt,Jt=(0,L.Z)(zt,Vt,Ht,!1,null,null,null),Ut=Jt.exports,Qt={components:{MapBuilderMapSearchCard:Ut},name:"MapBuilderMapSearchPanel",props:{appData:{type:Object,required:!0}},data:()=>({loading:!1,searchTerm:null,searchResults:[],mapType:"personal",mapTypes:[{text:"My Maps",value:"personal"},{text:"All Maps",value:"all"}]}),methods:{searchForMaps(){this.loading=!0,this.searchResults=[],this.globalFunctions.httpRequest("get",`${this.apiUrl}/api/v1/maps/${this.mapType}_maps/?search=${this.searchTerm}`,void 0,!0).then((t=>{this.loading=!1,200!=t.status?this.alert=JSON.stringify(t.data):(console.log(t),this.searchResults=t.data.results)}))}}},Wt=Qt,Gt=(0,L.Z)(Wt,Ft,jt,!1,null,null,null),Kt=Gt.exports,Xt=function(){var t=this,e=t._self._c;return e("p",[t._v("Query Data")])},Yt=[],te={name:"MapBuilderQueryDataPanel",props:{appData:{type:Object,required:!0}}},ee=te,ae=(0,L.Z)(ee,Xt,Yt,!1,null,null,null),se=ae.exports,ie=function(){var t=this,e=t._self._c;return e("p",[t._v("Settings")])},re=[],ne={name:"MapBuilderSettingsPanel",props:{appData:{type:Object,required:!0}}},le=ne,pe=(0,L.Z)(le,ie,re,!1,null,null,null),oe=pe.exports,ue={components:{MapBuilderBasemapPanel:N,MapBuilderAnalysisPanel:O,MapBuilderDrawPanel:G,MapBuilderHelpPanel:at,MapBuilderLayerSearchPanel:Zt,MapBuilderLayersPanel:St,MapBuilderLegendPanel:Ot,MapBuilderMapSearchPanel:Kt,MapBuilderQueryDataPanel:se,MapBuilderSettingsPanel:oe},name:"MapBuilderLeftPanel",props:{appData:{type:Object,required:!0}}},ce=ue,de=(0,L.Z)(ce,k,S,!1,null,null,null),he=de.exports,me=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.appData.openRightPanel,expression:"appData.openRightPanel"}],staticClass:"map-builder-right-panel pa-3"},["information"===this.appData.openRightIcon?e("map-builder-layer-information-panel",{attrs:{appData:t.appData}}):t._e(),"style"===this.appData.openRightIcon?e("map-builder-layer-style-panel",{attrs:{appData:t.appData}}):t._e(),"filter"===this.appData.openRightIcon?e("map-builder-layer-filter-panel",{attrs:{appData:t.appData}}):t._e(),"popups"===this.appData.openRightIcon?e("map-builder-layer-popups-panel",{attrs:{appData:t.appData}}):t._e(),"widgets"===this.appData.openRightIcon?e("map-builder-layer-widgets-panel",{attrs:{appData:t.appData}}):t._e(),"statistics"===this.appData.openRightIcon?e("map-builder-layer-statistics-panel",{attrs:{appData:t.appData}}):t._e(),"search"===this.appData.openRightIcon?e("map-builder-layer-search-panel",{attrs:{appData:t.appData}}):t._e()],1)},ge=[],ye=function(){var t=this,e=t._self._c;return e("p",[t._v("Layer Filter")])},_e=[],fe={name:"MapBuilderLayerFilterPanel",props:{appData:{type:Object,required:!0}}},ve=fe,De=(0,L.Z)(ve,ye,_e,!1,null,null,null),be=De.exports,Pe=function(){var t=this,e=t._self._c;return e("p",[t._v("Layer Information")])},Le=[],Ze={name:"MapBuilderLayerInformationPanel",props:{appData:{type:Object,required:!0}}},Be=Ze,$e=(0,L.Z)(Be,Pe,Le,!1,null,null,null),we=$e.exports,xe=function(){var t=this,e=t._self._c;return e("p",[t._v("Layer Popups")])},Me=[],ke={name:"MapBuilderLayerPopupsPanel",props:{appData:{type:Object,required:!0}}},Se=ke,Ce=(0,L.Z)(Se,xe,Me,!1,null,null,null),Ie=Ce.exports,Re=function(){var t=this,e=t._self._c;return e("p",[t._v("Layer Statistics")])},qe=[],Te={name:"MapBuilderLayerStatisticsPanel",props:{appData:{type:Object,required:!0}}},Oe=Te,Fe=(0,L.Z)(Oe,Re,qe,!1,null,null,null),je=Fe.exports,Ae=function(){var t=this,e=t._self._c;return e("p",[t._v("Layer Style")])},Ee=[],Ve={name:"MapBuilderLayerStylePanel",props:{appData:{type:Object,required:!0}}},He=Ve,Ne=(0,L.Z)(He,Ae,Ee,!1,null,null,null),ze=Ne.exports,Je=function(){var t=this,e=t._self._c;return e("p",[t._v("Layer Widgets")])},Ue=[],Qe={name:"MapBuilderLayerWidgetsPanel",props:{appData:{type:Object,required:!0}}},We=Qe,Ge=(0,L.Z)(We,Je,Ue,!1,null,null,null),Ke=Ge.exports,Xe={components:{MapBuilderLayerInformationPanel:we,MapBuilderLayerStylePanel:ze,MapBuilderLayerFilterPanel:be,MapBuilderLayerPopupsPanel:Ie,MapBuilderLayerStatisticsPanel:je,MapBuilderLayerSearchPanel:Zt,MapBuilderLayerWidgetsPanel:Ke},name:"MapBuilderRightPanel",props:{appData:{type:Object,required:!0}}},Ye=Xe,ta=(0,L.Z)(Ye,me,ge,!1,null,null,null),ea=ta.exports,aa={components:{BaseMap:M,MapBuilderLeftPanel:he,MapBuilderRightPanel:ea},name:"MapBuilder",data:()=>({appData:{latitude:40,longitude:-96,zoom:3,basemap:"dark",layers:[],notification_access_list:[],write_access_list:[],read_access_list:[],updated_username:"",username:"",searchable:!0,openRightIcon:void 0,openRightPanel:!1,openLeftIcon:"layers",openLeftPanel:!0,savedMap:!1,searchForLayers:!0,activeLayerId:void 0,layerCounter:0},left_nav_items:[{title:"Save Map",icon:"mdi-content-save",slug:"save_map",openPanel:!1},{title:"New Map",icon:"mdi-map-plus",slug:"new_map",openPanel:!1},{title:"Import Data",icon:"mdi-plus-box-multiple",slug:"import_data",openPanel:!1},{title:"Layers",icon:"mdi-layers-triple",slug:"layers",openPanel:!0},{title:"Layer Search",icon:"mdi-map-search-outline",slug:"layer_search",openPanel:!0},{title:"Basemaps",icon:"mdi-earth",slug:"basemaps",openPanel:!0},{title:"Query Data",icon:"mdi-search-web",slug:"query_data",openPanel:!0},{title:"Analysis",icon:"mdi-gauge",slug:"analysis",openPanel:!0},{title:"Drawing",icon:"mdi-draw",slug:"draw",openPanel:!0},{title:"Legend",icon:"mdi-map-legend",slug:"legend",openPanel:!0},{title:"Address Search",icon:"mdi-google-street-view",slug:"address_search",openPanel:!0},{title:"Print",icon:"mdi-printer",slug:"print",openPanel:!1},{title:"Settings",icon:"mdi-cog",slug:"settings",openPanel:!0},{title:"Help",icon:"mdi-map-marker-question-outline",slug:"help",openPanel:!0}],right_nav_items:[{title:"Information",icon:"mdi-information",slug:"information",openPanel:!0},{title:"Style",icon:"mdi-tune",slug:"style",openPanel:!0},{title:"Filter",icon:"mdi-filter",slug:"filter",openPanel:!0},{title:"Table",icon:"mdi-table",slug:"table",openPanel:!1},{title:"Popups",icon:"mdi-message-text-outline",slug:"popups",openPanel:!0},{title:"Search",icon:"mdi-layers-search",slug:"search",openPanel:!0},{title:"Widgets",icon:"mdi-chart-scatter-plot-hexbin",slug:"widgets",openPanel:!0},{title:"Statistics",icon:"mdi-android-studio",slug:"statistics",openPanel:!0}],links:["Home","Contacts","Settings"],mini:!0,drawer:!0}),mounted(){document.title="QwikGeo | Map Builder",null===localStorage.getItem("qwikgeo_access_token")&&this.$router.push({name:"Login",query:{redirect:`${window.location.pathname}${window.location.search}`}}),this.globalFunctions.httpRequest("get",`${this.apiUrl}/api/v1/users/user`,void 0,!0).then((t=>{this.read_access_list=[t.data.username],this.write_access_list=[t.data.username],this.username=t.data.username,this.updated_username=t.data.username})),this.$route.query.map_id&&this.globalFunctions.httpRequest("get",`${this.apiUrl}/api/v1/maps/map/${this.$route.query.map_id}`,void 0,!0).then((t=>{if(200!=t.status)return this.$set(this.appData,"alertColor","red"),void(404==t.status?this.$set(this.appData,"alert","Sorry, we cannot find this map."):401==t.status?this.$set(this.appData,"alert","Sorry, you do not have access to this map."):this.$set(this.appData,"alert",t.data));for(let e in t.data)this.$set(this.appData,e,t.data[e])}))},methods:{iconClick(t,e){if("left"===e?t.openPanel?(this.appData.openLeftIcon===t.slug?this.$set(this.appData,"openLeftPanel",!1):this.$set(this.appData,"openLeftPanel",!0),this.$set(this.appData,"openLeftIcon",t.slug),this.appData.openLeftIcon===t.slug&&!1===this.appData.openLeftPanel&&this.$set(this.appData,"openLeftIcon",void 0)):this.appData.openLeftIcon===t.slug?this.$set(this.appData,"openLeftIcon",void 0):(this.$set(this.appData,"openLeftIcon",t.slug),this.$set(this.appData,"openLeftPanel",!1)):"right"===e&&(t.openPanel?(this.appData.openRightIcon===t.slug?this.$set(this.appData,"openRightPanel",!1):this.$set(this.appData,"openRightPanel",!0),this.$set(this.appData,"openRightIcon",t.slug),this.appData.openRightIcon===t.slug&&!1===this.appData.openRightPanel&&this.$set(this.appData,"openRightIcon",void 0)):this.appData.openRightIcon===t.slug?this.$set(this.appData,"openRightIcon",void 0):(this.$set(this.appData,"openRightIcon",t.slug),this.$set(this.appData,"openRightPanel",!1))),"new_map"===t.slug)document.location.href="/map_builder/";else if("print"===t.slug){var a=document.createElement("a");a.download="map.png",a.href=this.appData.map.getCanvas().toDataURL(),document.body.appendChild(a),a.click()}else"save_map"===t.slug&&this.$set(this.appData,"saveMapDialog",!0)}}},sa=aa,ia=(0,L.Z)(sa,d,h,!1,null,null,null),ra=ia.exports},1653:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(3434),i=a(4562),r=i.Z,n=a(2240),l=a(1444),p=a(6669),o=a(144),u=o.ZP.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),c=a(7678),d=a(4101),h=(0,c.Z)(s.Z,l.Z,u).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(r,{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(n.Z,{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(n.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...s.Z.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t[`v-alert--border-${this.border}`]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||p.Z.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,d.fK)("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},5125:function(t,e,a){a(7658);var s=a(7678),i=a(2500),r=a(4712);e["Z"]=(0,s.Z)(i.Z,(0,r.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),a={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(a.valid=e(t)))})):a.valid=e(t),a},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const a=this.watchers.find((t=>t._uid===e._uid));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})}}]);
//# sourceMappingURL=807.c2a00158.js.map